<div class="d-flex justify-content-center align-items-center mt-4">
    <main style="width:95%; height:86vh;" class='d-flex flex-column justify-content-start align-items-between'>
        <section class="d-flex mb-3 justify-content-between">
            <div class="card flex-fill" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtPatients}}</h5>
                    <p class="card-text">Pacientes</p>
                </div>
            </div>
            <div  *ngIf="userRole=='ROLE_ADMIN'||userRole=='ROLE_DOCTOR'" class="card flex-fill ms-3 me-3" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtUsers}}</h5>
                    <p class="card-text">Usuários</p>
                </div>
            </div>
            <div *ngIf="userRole=='ROLE_ADMIN'||userRole=='ROLE_DOCTOR'" class="card flex-fill" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtAppointments}}</h5>
                    <p class="card-text">Consultas</p>
                </div>
            </div>
            <div *ngIf="userRole=='ROLE_ADMIN'||userRole=='ROLE_DOCTOR'" class="card flex-fill ms-3 me-3" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtExams}}</h5>
                    <p class="card-text">Exames</p>
                </div>
            </div>
            <div class="card flex-fill me-3" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtMedicines}}</h5>
                    <p class="card-text">Medicamentos</p>
                </div>
            </div>
            <div class="card flex-fill me-3" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtDiets}}</h5>
                    <p class="card-text">Dietas</p>
                </div>
            </div>
            <div class="card flex-fill me-3" style="width: 15rem;">
                <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title">{{qtExercises}}</h5>
                    <p class="card-text">Exercícios</p>
                </div>
            </div>
        </section>
        <section *ngIf="userRole=='ROLE_ADMIN'||userRole=='ROLE_DOCTOR'" class="d-flex " style="height: 60vh;">
            <div class="p-5 me-2 w-50" style="background-color:white">
                <h5>Usuários</h5>
                <form #formBusca="ngForm">
                    <div class="mb-3">
                      <input type="text" class="form-control" #busca="ngModel" ngModel name="busca" placeholder="Filtrar Usuários" (keyup)="filtrarUser(busca.control.value)">
                    </div>
                  </form>
                <div style="max-height:100%; overflow-x: auto; overflow-y:auto;">
                    <table class="table table-striped table-bordered">
                        <thead class="table-primary">
                            <tr>
                                <th scope="col">Nome do Usuário</th>
                                <th scope="col">Contato</th>
                                <th scope="col">Tipo</th>
                                <th scope="col">Opções</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let user of userList">
                                <td>{{user.name}}</td>
                                <td>{{user.email?user.email:user.telephone}}</td>
                                <td>{{user.role}}</td>
                                <td><button type="button" class="btn btn-link" (click)="onSeeUser(user.id)"><img src="../../../../../assets/images/ver.png" class="img-fluid ms-1"
                                    width="30" height="30"></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                  </div>
            </div>
            <div class="p-5 ms-2 w-50" style="background-color:white">
                <h5>Pacientes</h5>
                <form #formBusca="ngForm">
                    <div class="mb-3">
                      <input type="text" class="form-control" #busca="ngModel" ngModel name="busca" placeholder="Filtrar Paciente" (keyup)="filtrarPaciente(busca.control.value)">
                    </div>
                  </form>
                <div style="max-height:100%; overflow-x: auto; overflow-y:auto;">
                    <table class="table table-striped table-bordered">
                        <thead class="table-primary">
                            <tr>
                                <th scope="col">Nome do Paciente</th>
                                <th scope="col">Idade</th>
                                <th scope="col">Contato</th>
                                <th scope="col">Convênio</th>
                                <th scope="col">Opções</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let pacient of pacientList">
                                <td>{{pacient.name}}</td>
                                <td>{{pacient.dob|calculoIdade}}</td>
                                <td>{{pacient.email?pacient.email:pacient.phone}}</td>
                                <td>{{pacient.healthInsurance}}</td>
                                <td><button type="button" class="btn btn-link" (click)="onSeePatient(pacient.id)"><img src="../../../../../assets/images/ver.png" class="img-fluid ms-1"
                                    width="30" height="30"></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                  </div>
            </div>
        </section>
        <section *ngIf="userRole=='ROLE_NURSE'" class="d-flex " style="height: 60vh;">
            <div class="p-5 ms-2 w-100" style="background-color:white">
                <h5>Pacientes</h5>
                <div style="max-height:100%; overflow-x: auto; overflow-y:auto;">
                    <table class="table table-striped table-bordered">
                        <thead class="table-primary">
                            <tr>
                                <th scope="col">Nome do Paciente</th>
                                <th scope="col">Idade</th>
                                <th scope="col">Contato</th>
                                <th scope="col">Convênio</th>
                                <th scope="col">Opções</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let pacient of pacientList">
                                <td>{{pacient.name}}</td>
                                <td>{{pacient.dob|calculoIdade}}</td>
                                <td>{{pacient.email?pacient.email:pacient.phone}}</td>
                                <td>{{pacient.healthInsurance}}</td>
                                <td><button type="button" class="btn btn-link" (click)="onSeePatient(pacient.id)"><img src="../../../../../assets/images/ver.png" class="img-fluid ms-1"
                                    width="30" height="30"></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                  </div>
            </div>
        </section>
    </main>
</div>
